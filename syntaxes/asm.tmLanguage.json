{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"scopeName": "text.vasm.oldstyle.asm",
	"foldingStartMarker": "^.+\\:$",
	"foldingStopMarker": "^!(  |\\\t)$",
	"patterns": [
		{ "include": "#comment" },
		{ "include": "#label" },
		{ "include": "#vasm" },
		{ "include": "#instructions" }
	],
	"repository": {

		"comment": {
			"name": "comment.line",
			"match": ";.*$"
		},
		
		"label": {
			"name": "label.asm",
			"match": "^(\\S[a-z_\\-]*):\\s(?:(asciiz?) (\".*?\"))?",
			"captures": {
				"1": { "name": "reference.label.asm" },
				"2": { "name": "syntax.vasm"},
				"3": { "name": "string.asm" }
			}
		},
		
		"vasm": {
			"name": "syntax.vasm",
			"match": "^  .{0,1}(?:(org)|(word)|(include)|(incdir))"
		},

		"instructions": {
			"name": "instruction.asm",
			"match": "^  ([a-z]{3})\\s(?:([^;]*))?",
			"captures": {
				"1": { "name": "instructionname.asm" },
				"2": {
					"name": "parameter.asm",
					"patterns": [{ "match": "(.*,?)+" }]
				}
			}
		}
	}
}