{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"scopeName": "text.vasm.oldstyle.asm",
	"foldingStartMarker": "^.+\\:$",
	"foldingStopMarker": "^!(  |\\\t)$",
	"patterns": [
		{ "include": "#label" },
		{ "include": "#nonlabel" },
		{ "include": "#comment" }
	],
	"repository": {
		"label": {
			"patterns": [{
				"name": "label.asm",
				"match": "^(.+\\:)|(.+ macro)"
			}]
		},
		"nonlabel": {
			"begin": "^(  )|\\\t",
			"end": "^\\1$",
			"patterns": [
				{ "include": "#instruction" },
				{ "include": "#org" }
			]
		},
		"instruction": {
			"name": "instructiuon.asm",
			"patterns": [
				{ "include": "#immediate" },
				{ "include": "#address" }
			]
		},
		"org": {
			"name": "directives.asm",
			"patterns": [
				{
					"name": "constant.character.escape.asm",
					"match": "\\\\."
				}
			]
		},
		"comment": {
			"name": "directives.asm",
			"begin": ";.*",
			"end": "^\\1$"
		},
		"address": {
			"name": "address.asm",
			"patterns": [
				{ "include": "#binary" },
				{ "include": "#octal" },
				{ "include": "#hex" },
				{ "include": "#decimal" }
			]
		},
		"immediate": {
			"name": "immediate.asm",
			"begin": "#",
			"end": ",|^\\1$",
			"patterns": [
				{ "include": "#binary" },
				{ "include": "#octal" },
				{ "include": "#hex" },
				{ "include": "#decimal" }
			]
		},
		"hex": {
			"name": "hexidecimal.value.asm",
			"begin": "$|0x",
			"match": "([0-F]{2})+"
		},
		"octal": {
			"name": "octal.value.asm",
			"begin": "Ox",
			"match": "[0-8]{1-3}"
		},
		"binary": {
			"name": "binary.value.asm",
			"begin": "%|0b",
			"match":	"([01]{8})+"
		},
		"decimal": {
			"name": "decimal.value.asm",
			"match": "\\d{1,3}"
		},
		"reference": {
			"name": "labelref.value.asm",
			"match": "A-z([A-z]\\_\\-)+"
		}
	}
}